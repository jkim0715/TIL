### I. CAN

고도의 안정성을 바탕으로 효율적이고도 실시간으로 명령을 전달해주는 일련의 통신 프로토콜.

1. CAN의 주소 할당 원칙 (p37)

   1. 메시지는 네트워크상의 모든 타 노드로 전송돼야 한다 (broadcast diffusion)
   2. 전송되는 메시지의 선택 절차는 각 노드의 수용 필터가 수행한다.

   이러한 목적 때문에 메시지는 ID(i)로 표기하며, 이것은 각 노드에서 수신되는 메시지 목록과 비교한다.

   이 메시지 목록은 통신 버퍼로 향하는 AP(i)로 표기되는 주소 포인터를 포함하여

   **C ={ID(i), data}  -- CAN 네트워크 -- {ID(i),AP(i)} -- AP(i) -- 데이터**   

   위와 같이 메시지 내용을 저장한다. 

   **그러므로 네트워크의 모든 노드는 같은시간에 모든 메시지를 받을 수 있으며, 이렇게 함으로써 분산 제어 시스템에서 데이터의 일치성이 보장된다.**

2. 에러 처리와 관리 

   1. 긍정 응답, 부정 응답의 개념

      - 식별용 라벨 메시지가 네트워크상에 있는 모든 노드로 전송되고, 또 모든 노드에서 수신된다. 이런 과정은 지역 메시지 주소가 없는 상태에서 네트워크상에 있는 각 노드에서 국부적으로 에러 처리를 실행해야 한다는 것을 의미한다. 이 목적을 달성하기 위해 CAN 프로토콜 에서는 긍정 응답과 부정 응답 NAK을 조합해 사용한다.

        ACK+ = ACK +(i) for any (i)

        긍정 응답은 메시지를 제대로 전달받은 모든 노드 (i)로부터 보내지며 정확하게 정의된 시간 간격ACK 동안에 (긍정) 응답으로 표현된다.

      - 문제에 대한 낙관적 관점

        - 긍정 응답은 '적어도 한 개의 노드는 전송된 메시지를 제대로 받았음'을 의미한다고도 말할 수 있다.

      - 덜 낙관적인 관점

        - 메시지에 대한 부정 응답은 '전체적인 시스템상에서 적어도 한 개의 에러가 있다는 의미'

      - 에러가 있음을 표시하는 메시지는 에러를 감지하자마자 즉시 모든 네트워크로 발송된다.

3. CAN 개념 정리

   1. 원칙적으로 버스에서의 통신 기간 동안 전자 신호의 날카로운 에지로 인해 발생하는 전자기적인 잡음을 최소하 하기위해 통신 비트 속도는 가능한 낮아야 한다.